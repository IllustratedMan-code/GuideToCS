

<!DOCTYPE html>
<html>
  <head>
    <title>
	9/22/2021 :: David&#39;s Guide to CS
</title>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="revised" content="2021-11-09T14:59:51 UTC">
<meta name="description" content="">



<title>9/22/2021 :: David&#39;s Guide to CS</title>

<link rel="shortcut icon" href='https://illustratedman-code.github.io/GuideToCS/images/favicon.png' type="image/x-icon" />

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.css">

<script src='https://code.jquery.com/jquery-3.5.1.min.js'></script>

<link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel="stylesheet">



<link rel="stylesheet" type="text/css" href='https://illustratedman-code.github.io/GuideToCS/sass/layout.css'>
<link rel="stylesheet" type="text/css" href='https://illustratedman-code.github.io/GuideToCS/css/style.main.css'>
<link rel="stylesheet" type="text/css" href='https://illustratedman-code.github.io/GuideToCS/css/style.menu.css'>
<link rel="stylesheet" type="text/css" href='https://illustratedman-code.github.io/GuideToCS/sass/shortcodes/notice.css'>
<link rel="stylesheet" type="text/css" href='https://illustratedman-code.github.io/GuideToCS/sass/shortcodes/tabs.css'>
<link rel="stylesheet" type="text/css" href='https://illustratedman-code.github.io/GuideToCS/sass/shortcodes/panel.css'>
<link rel="stylesheet" type="text/css" href='https://illustratedman-code.github.io/GuideToCS/sass/shortcodes/columns.css'>
<link rel="stylesheet" type="text/css" href='https://illustratedman-code.github.io/GuideToCS/sass/shortcodes/children.css'>
<link rel="stylesheet" type="text/css" href='https://illustratedman-code.github.io/GuideToCS/sass/shortcodes/attachments.css'>
<link rel="stylesheet" type="text/css" href='https://illustratedman-code.github.io/GuideToCS/sass/shortcodes/alert.css'>
<link rel="stylesheet" type="text/css" href='https://illustratedman-code.github.io/GuideToCS/css/docport.css'>

<script src='https://illustratedman-code.github.io/GuideToCS/js/docport.js'></script>
<script type="text/javascript">
      var baseurl = "https:\/\/illustratedman-code.github.io\/GuideToCS";
</script>


<script src="https://illustratedman-code.github.io/GuideToCS/js/mathjax-config.js"></script>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>



    
  </head>

  <body data-url="https://illustratedman-code.github.io/GuideToCS/programming-languages/9-22-2021/"

  class="">

<style type="text/css">
  #debug{
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    line-height: 3.5rem;
    margin-bottom: .35rem;
    padding: 0 2rem;
    position: fixed;
    left: 0;      right: 0;     top: 0;
   
    top:0px;
    
    min-height: 150px;

    background-color: white;
    border: 3px solid red;
    z-index: 10000 ;
    word-wrap: all;
    overflow: auto;
  }
</style>
 


    
    
    <header style="">
        <div>
    
    <div class="burger ">
        <a href="javascript:void(0);" style="font-size:15px;" onclick="$('article > aside').toggleClass('responsive')">&#9776;</a>
    </div>
    

    <div>

		
	
			
		
	    	<a class='baselink' href='https://illustratedman-code.github.io/GuideToCS'>David's Guide to CS</a>
	  	
	</div>
    <nav class="shortcuts">
            <li class="" role="">
                <a href="https://github.com/IllustratedMan-code"  rel="noopener">
                  Github
                </a>
            </li>
    </nav>

</div>
    </header>
    

    <article>
      
      <aside class="">
        
<div class="search">
	<div class="searchbox">
	  <input data-search-input id="search-by" type="text" placeholder="Type to search...">
	</div>
	<script type="text/javascript" src="https://illustratedman-code.github.io/GuideToCS/vendor/lunr/lunr.min.js"></script>
	<script type="text/javascript" src="https://illustratedman-code.github.io/GuideToCS/vendor/auto-complete/auto-complete.js"></script>
	<link href="https://illustratedman-code.github.io/GuideToCS/vendor/auto-complete/auto-complete.css" rel="stylesheet">
	<script type="text/javascript">
	  
	      var baseurl = "https:\/\/illustratedman-code.github.io\/GuideToCS";
	  
	</script>
	<script type="text/javascript" src="https://illustratedman-code.github.io/GuideToCS/js/search.js"></script>
</div>

		
	
			
		
	    	
	  	
	<div id="close_menu">
  <a href="javascript:void(0);" style="font-size:15px;" onclick="$('article > aside').toggleClass('responsive')">
      <i class="fa fa-lg fa-times"></i>
  </a>
</div>

<ul class="menu">

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/discrete-structures/" class="dd-item haschildren
        item_level_$level
        ">

      
      
      
      <i class="fas fa-chevron-right ddexp"></i>
        
      
          <a href="https://illustratedman-code.github.io/GuideToCS/discrete-structures/">Discrete Structures</a>
      
        <ul>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/discrete-structures/exam-1-review/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/discrete-structures/exam-1-review/">Exam 1 review</a>
      
        
      
    </li>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/discrete-structures/exam-2-review/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/discrete-structures/exam-2-review/">Exam 2 review</a>
      
        
      
    </li>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/discrete-structures/logic/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/discrete-structures/logic/">Logic</a>
      
        
      
    </li>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/discrete-structures/modular-arithmetic/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/discrete-structures/modular-arithmetic/">Modular arithmetic</a>
      
        
      
    </li>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/discrete-structures/normal-forms/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/discrete-structures/normal-forms/">Normal forms</a>
      
        
      
    </li>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/discrete-structures/set-relations/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/discrete-structures/set-relations/">Set relations</a>
      
        
      
    </li>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/discrete-structures/set-theory/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/discrete-structures/set-theory/">Standard Proof techniques</a>
      
        
      
    </li>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/discrete-structures/trees/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/discrete-structures/trees/">Trees</a>
      
        
      
    </li>
        </ul>
    </li>
    

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/ecology/" class="dd-item haschildren
        item_level_$level
        ">

      
      
      
      <i class="fas fa-chevron-right ddexp"></i>
        
      
          <a href="https://illustratedman-code.github.io/GuideToCS/ecology/">Ecology and Evolution</a>
      
        <ul>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/ecology/ch1/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/ecology/ch1/">Chapter 1</a>
      
        
      
    </li>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/ecology/ch-2/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/ecology/ch-2/">Chapter 2</a>
      
        
      
    </li>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/ecology/ch-3/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/ecology/ch-3/">Chapter 3</a>
      
        
      
    </li>
        </ul>
    </li>
    

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/intro-to-comp-systems/" class="dd-item haschildren
        item_level_$level
        ">

      
      
      
      <i class="fas fa-chevron-right ddexp"></i>
        
      
          <a href="https://illustratedman-code.github.io/GuideToCS/intro-to-comp-systems/">Intro To Comp Systems</a>
      
        <ul>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/intro-to-comp-systems/hard-vs-micro/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/intro-to-comp-systems/hard-vs-micro/">HardWiredVsMicroProgrammed;</a>
      
        
      
    </li>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/intro-to-comp-systems/how-to-write-a-micro-instruction/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/intro-to-comp-systems/how-to-write-a-micro-instruction/">How to write a micro-instruction</a>
      
        
      
    </li>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/intro-to-comp-systems/mock-exam-questions/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/intro-to-comp-systems/mock-exam-questions/">Mock Exam Questions</a>
      
        
      
    </li>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/intro-to-comp-systems/formulas-and-references/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/intro-to-comp-systems/formulas-and-references/">Useful formulas and references</a>
      
        
      
    </li>
        </ul>
    </li>
    

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/phys2001/" class="dd-item haschildren
        item_level_$level
        ">

      
      
      
      <i class="fas fa-chevron-right ddexp"></i>
        
      
          <a href="https://illustratedman-code.github.io/GuideToCS/phys2001/">PHYS2001</a>
      
        <ul>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/phys2001/test/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/phys2001/test/">Test</a>
      
        
      
    </li>
        </ul>
    </li>
    

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/programming-languages/" class="dd-item parent haschildren
        item_level_$level
        ">

      
      
      
      
          <i class="fas fa-chevron-down ddexp"></i>
        
      
          <a href="https://illustratedman-code.github.io/GuideToCS/programming-languages/">Programming Languages</a>
      
        <ul>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/programming-languages/10-1-2021/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/programming-languages/10-1-2021/">10/1/2021</a>
      
        
      
    </li>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/programming-languages/10-4-2021/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/programming-languages/10-4-2021/">10/4/2021</a>
      
        
      
    </li>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/programming-languages/10-6-2021/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/programming-languages/10-6-2021/">10/6/2021</a>
      
        
      
    </li>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/programming-languages/8-23-2021/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/programming-languages/8-23-2021/">8/23/2021</a>
      
        
      
    </li>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/programming-languages/8-25-2021/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/programming-languages/8-25-2021/">8/25/2021</a>
      
        
      
    </li>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/programming-languages/8-27-2021/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/programming-languages/8-27-2021/">8/27/2021</a>
      
        
      
    </li>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/programming-languages/8-30-2021/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/programming-languages/8-30-2021/">8/30/2021</a>
      
        
      
    </li>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/programming-languages/9-1-2021/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/programming-languages/9-1-2021/">9/1/2021</a>
      
        
      
    </li>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/programming-languages/9-10-2021/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/programming-languages/9-10-2021/">9/10/2021</a>
      
        
      
    </li>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/programming-languages/9-13-2021/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/programming-languages/9-13-2021/">9/13/2021</a>
      
        
      
    </li>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/programming-languages/9-20-2021/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/programming-languages/9-20-2021/">9/20/2021</a>
      
        
      
    </li>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/programming-languages/9-22-2021/" class="dd-item parent active
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/programming-languages/9-22-2021/">9/22/2021</a>
      
        
      
    </li>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/programming-languages/9-24-2021/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/programming-languages/9-24-2021/">9/24/2021</a>
      
        
      
    </li>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/programming-languages/9-27-2021/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/programming-languages/9-27-2021/">9/27/2021</a>
      
        
      
    </li>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/programming-languages/9-3-2021/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/programming-languages/9-3-2021/">9/3/2021</a>
      
        
      
    </li>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/programming-languages/9-8-2021/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/programming-languages/9-8-2021/">9/8/2021</a>
      
        
      
    </li>
        </ul>
    </li>
    



</ul>

		
	
			
		
	    	
	  	
	
      </aside>
      

      <section class="page ">
      
	
		
    
    
    <nav id="ariane" aria-label="breadcrumb">
      <ol class="ariane">
        
  
  	
		
  
  	
	<li >
      <a class="text-link" href="https://illustratedman-code.github.io/GuideToCS">
        Home
      </a>
    </li>
	
  
    <li class="">
      <a class="text-link" href="https://illustratedman-code.github.io/GuideToCS/programming-languages/">
        Programming Languages
      </a>
    </li>
	
  	
  
    <li class="active">
      
        9/22/2021
      
    </li>

      </ol>
    </nav>
    
    

    
		
        
		
		
		
		
		
		
		

		
			<h1>9/22/2021</h1>
        

		
										
		

		
	

	
	
	<div class="jump-to-section">
		<span onclick="$h = $(this);$h.next('nav').slideToggle(100,function () {$h.children('i').attr('class',function () {return $h.next('nav').is(':visible') ? 'fas fa-chevron-down' : 'fas fa-chevron-right';});});">
  			<span class="fas fa-align-right"></span>
  			Jump to Section
  			<i style=";" class="fas fa-chevron-right"></i>
		</span>
		<nav id="TableOfContents">
  <ul>
    <li><a href="#formal-program-semantics">Formal Program Semantics</a>
      <ul>
        <li><a href="#a-quick-review-of-concepts">A Quick Review of Concepts</a></li>
        <li><a href="#defining-the-semantics-of-the-addition-expression">Defining the Semantics of the Addition Expression</a></li>
        <li><a href="#defining-the-semantics-of-the-if-then-else-expression">Defining the Semantics of the If/Then/Else Expression</a></li>
      </ul>
    </li>
  </ul>
</nav>
	</div>
	
	






	<div class="content">
	    <p>Like other popular newspapers that do in-depth analysis of popular topics (Links to an external site.), this edition of the Daily PL is part 2/2 of an investigative report on &hellip;</p>
<h2 ref="formal-program-semantics" >Formal Program Semantics</h2><a class="anchor" id="formal-program-semantics"></a>
<p>In our previous class, we discussed the operational semantics of variable access and variable assignment. In this class we explored the operational semantics of the addition operator and the if/then statement.</p>
<h3 ref="a-quick-review-of-concepts" >A Quick Review of Concepts</h3><a class="anchor" id="a-quick-review-of-concepts"></a>
<p>At all times, a program has a state. A state is just a function whose domain is the set of defined program variables and whose range is V * T where V is the set of all valid variable values (e.g., 5, 6.0, True, &ldquo;Hello&rdquo;, etc) and T is the set of all valid variable types (e.g., Integer, Floating Point, Boolean, String, etc). ​In other words, you can ask a state about a particular variable and, if it is defined, the function will return the variable&rsquo;s current value and its type.</p>
<p>Here is the formal definition of the state function:</p>
<p>\begin{equation*}
\(\sigma(x) = (v, \tau)​\)
\end{equation*}</p>
<p>The state function is denoted with the σ
. τ always represents some arbitrary variable type. Generally, v represents a value. So, you can read the definition above as &ldquo;Variable x has value v and type τ in state σ.&rdquo;</p>
<p>Between execution steps, a program is always in a particular configuration:</p>
<p>\begin{equation*}
&lt;e, \sigma&gt;
\end{equation*}</p>
<p>This notation means that the program in state σ is about to evaluate expression e.</p>
<p>A program step is an atomic (indivisible) change from one program configuration to another. Operational semantics defines steps using rules. The general form of a rule is</p>
<p>\begin{equation*}
\frac{premises}{conclusion}
\end{equation*}</p>
<p>The conclusion is generally written like &lt;e, σ&gt; ⟶ (v, τ, σ) which means that when the premises hold, the expression e evaluated in state σ evaluates to a value (v), type (τ) and (possibly modified) state (σ') after a single step of execution.</p>
<h3 ref="defining-the-semantics-of-the-addition-expression" >Defining the Semantics of the Addition Expression</h3><a class="anchor" id="defining-the-semantics-of-the-addition-expression"></a>
<p>In STIMPL, the expression to &ldquo;add&rdquo; two values n1 and n2 is written like Add(n1, n2). By the rules of the STIMPL language, for an addition to be possible, n1 and n2 must</p>
<ol>
<li>have the same type and</li>
<li>have Integer, Floating Point or String type.</li>
</ol>
<p>Because every unit in STIMPL has a value, we will define the operational semantics using two arbitrary expressions, e1 and e2. The program configuration to which we are giving semantics is</p>
<p>\begin{equation*}
&lt;Add(e_1),e_2),\sigma&gt;
\end{equation*}</p>
<p>Because our addition operator applies when its operands are three different types, we technically need three different rules for its evaluation. Let&rsquo;s start with the operational semantics for add when its operands are of type Integer:</p>
<p>\begin{equation*}
\frac{&lt;e_1,\sigma&gt;⟶(v_1,Integer,\sigma),&lt;e_2,\sigma&gt;⟶(v_2,Integer,\sigma \prime)}{&lt;Add(e1,e2),σ&gt;⟶(v1+v2,Integer,\sigma\prime)}
\end{equation*}</p>
<p>Let&rsquo;s look at the premises. First, there is</p>
<p>\begin{equation*}
&lt;e_1,\sigma&gt;⟶(v1,Integer,\sigma \prime)
\end{equation*}</p>
<p>which means that, when evaluated in state σ, expression e1 has the value v1 and type Integer and may modify the state (to σ'). Notice that we are not using τ for the resulting type of the evaluation? Why? Because using τ indicates that this rule applies when the evaluation of e1 in state σ evaluates to any type (which we &ldquo;assign&rdquo; to τ in case we want to use it again in a later premise). Instead, we are explicitly writing Integer which indicates that this rule only defines the operational semantics for Add(e1, e2) in state σ when the expression e1 evaluates to a value of type Integer in state σ</p>
<p>.</p>
<p>As for the second premise</p>
<p>\begin{equation*}
&lt;e_2,\sigma \prime&gt;⟶(v_2,Integer,\sigma\prime \prime)
\end{equation*}</p>
<p>we see something very similar. Again, our premise prescribes that, when evaluated in state σ' (note the ' there), e2&rsquo;s type is an Integer. It is for this reason that we can be satisfied that this rule only applies when the types of the Add&rsquo;s operands match and are integers! We &ldquo;thread through&rdquo; the (possibly) modified σ' when evaluating e2 to enforce the STIMPL language&rsquo;s definition that operands are evaluated strictly left-to-right.</p>
<p>As for the conclusion,</p>
<p>\begin{equation*}
(v_1+v_2,Integer,\sigma \prime \prime)
\end{equation*}</p>
<p>shows the value of this expression. We will assume here that + works as expected for two integers. Because the operands are integers, we can definitively write that the type of the addition will be an integer, too. We use σ'' as the resulting state because it&rsquo;s possible that evaluation of the expressions of both e1 and e2 caused side effects.</p>
<p>The rule that we defined covers only the operational semantics for addition of two integers. The other cases (for floating-point and string types) are almost copy/paste.</p>
<p>Now, how does that translate to an actual implementation?</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-python" data-lang="python">
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">evaluate</span>(expression, state):
  match expression:
  <span style="color:#f92672">...</span>

  case Add(left<span style="color:#f92672">=</span>left, right<span style="color:#f92672">=</span>right):
      result <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
      left_result, left_type, new_state <span style="color:#f92672">=</span> evaluate(left, state)
      right_result, right_type, new_state <span style="color:#f92672">=</span> evaluate(right, new_state)

      <span style="color:#66d9ef">if</span> left_type <span style="color:#f92672">!=</span> right_type:
        <span style="color:#66d9ef">raise</span> InterpTypeError(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;&#34;&#34;Mismatched types for Add:
</span><span style="color:#e6db74">            Cannot add </span><span style="color:#e6db74">{</span>left_type<span style="color:#e6db74">}</span><span style="color:#e6db74"> to </span><span style="color:#e6db74">{</span>right_type<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;&#34;&#34;</span>)

      match left_type:
        case Integer() <span style="color:#f92672">|</span> String() <span style="color:#f92672">|</span> FloatingPoint():
          result <span style="color:#f92672">=</span> left_result <span style="color:#f92672">+</span> right_result
        case _:
          <span style="color:#66d9ef">raise</span> InterpTypeError(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;&#34;&#34;Cannot add </span><span style="color:#e6db74">{</span>left_type<span style="color:#e6db74">}</span><span style="color:#e6db74">s&#34;&#34;&#34;</span>)

      <span style="color:#66d9ef">return</span> (result, left_type, new_state)
</code></pre></div><p>In this snippet, the local variables left and right are the equivalent of e1 and e2, respectively, in the operational semantics. After initializing a variable to store the result, the evaluation of the premises is accomplished. new_state matches σ'' after being assigned and reassigned in those two evaluations. Next, the code checks to make sure that the types of the operands matches. Finally, if the types of the operands is an integer, then the result is just a traditional addition (+ in Python).</p>
<p>You can see the implementation for the other types mixed in this code as well. Convince yourself that the code above handles all the different cases where an Add is valid in STIMPL.</p>
<h3 ref="defining-the-semantics-of-the-if-then-else-expression" >Defining the Semantics of the If/Then/Else Expression</h3><a class="anchor" id="defining-the-semantics-of-the-if-then-else-expression"></a>
<p>In STIMPL, we write an If/Then/Else expression like If(c, t, f) where c is any boolean-typed expression, t is the expression to evaluate if the value of c is true and f is the expression to evaluate if the value of c is false. The value/type/updated state of the entire expression is the value/type/updated state that results from evaluating t when c is true and the value/type/updated state that results from evaluating f when c is false. This means that we are required to write two different rules to completely define the operational semantics of the If/Then/Else expression: one for the case where c is true and the other for the case when c is false. Sounds like the template that we used for the Add expression, doesn&rsquo;t it? Because the two cases are almost the same, we will only go through writing the rule for when the condition is true:</p>
<p>\begin{equation*}
\frac{&lt;c,\sigma&gt;\longrightarrow(True,Boolean,\sigma \prime),&lt;t,\sigma \prime&gt;\longrightarrow(v,\tau,\sigma\prime \prime)}{&lt;If(c,t,f),σ&gt;⟶(v,\tau, \sigma \prime \prime)}
\end{equation*}</p>
<p>As in the premises for the operational semantics of the Add operator, the first premise in the operational semantics above uses literals to guarantee that the rule only applies in certain cases:</p>
<p>\begin{equation*}
&lt;c,\sigma \prime&gt;\longrightarrow(True,Boolean,\sigma\prime \prime)
\end{equation*}</p>
<p>means that the rule only applies when c, evaluated in state σ, has a value of True and a boolean type. We use the second premise</p>
<p>\begin{equation*}
&lt;t,\sigma\prime&gt;⟶(v,\tau,\sigma \prime \prime)
\end{equation*}</p>
<p>to &ldquo;get&rdquo; some values that we will use in the conclusion. v and τ
are the value and the type, respectively, of t when it is evaluated in state σ'. Note that we evaluate t in state σ' because the evaluation of the condition statement may have modified state σ and we want to thread that through. Evaluation of t in state σ' may modify σ', generating σ''. The combination of these premises are combined to define that the entire expression evaluates to</p>
<p>\begin{equation*}
(v,\tau,\sigma\prime \prime)
\end{equation*}</p>
<p>Again, the pattern is the same for writing the operational semantics when the condition is false.</p>
<p>Let&rsquo;s look at how this translates into actual working code:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">evaluate</span>(expression, state):
  match expression:
  <span style="color:#f92672">...</span>

    case If(condition<span style="color:#f92672">=</span>condition, true<span style="color:#f92672">=</span>true, false<span style="color:#f92672">=</span>false):
      condition_value, condition_type, new_state <span style="color:#f92672">=</span> evaluate(condition, state)

      <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> isinstance(condition_type, Boolean):
        <span style="color:#66d9ef">raise</span> InterpTypeError(<span style="color:#e6db74">&#34;Cannot branch on non-boolean value!&#34;</span>)

      result_value <span style="color:#f92672">=</span> <span style="color:#66d9ef">None</span>
      result_type <span style="color:#f92672">=</span> <span style="color:#66d9ef">None</span>

      <span style="color:#66d9ef">if</span> condition_value:
        result_value, result_type, new_state <span style="color:#f92672">=</span> evaluate(true, new_state)
      <span style="color:#66d9ef">else</span>:
        result_value, result_type, new_state <span style="color:#f92672">=</span> evaluate(false, new_state)

      <span style="color:#66d9ef">return</span> (result_value, result_type, new_state)
</code></pre></div><p>The local variables <code>condition</code>, <code>true</code> and <code>false</code> match c, t and f, respectively from the rule in the operational semantics. The first step in the implementation is to determine the value/type/updated state when c is evaluated in state σ. Immediately after doing that, the code checks to make sure that the condition statement has boolean type. Remember how our rule only applies when this is the case? Next, depending on whether the condition evaluated to true or false, the appropriate next expression is evaluated in the σ' state (<code>new_state</code>). It is the result of that evaluation that is the ultimate value of the expression and what is returned.</p>

		</div>






	 
	<div class="chevrons">
		<a class="next" href="https://illustratedman-code.github.io/GuideToCS/programming-languages/9-24-2021/" title="9/24/2021" style="margin-right: 0px;">
            <div>
                <p>Next page</p>
                <label>9/24/2021</label>
            </div>
            <i class="fas fa-arrow-right" style="font-size: 1.7em"></i></a>
	</div>
	
	

      </section>

      
      
      <section class="right-menu ">
      
	

		
	
			
		
	    	
	  	
	<div class="TableOfContents">
    <label><i class="fas fa-align-right"></i>&nbsp;&nbsp;What&#39;s on this page</label>
    <nav>
        <ul >
            <li><a href="https://illustratedman-code.github.io/GuideToCS/programming-languages/9-22-2021/">9/22/2021</a></li>
        </ul>
    </nav>
    <nav id="TableOfContents">
  <ul>
    <li><a href="#formal-program-semantics">Formal Program Semantics</a>
      <ul>
        <li><a href="#a-quick-review-of-concepts">A Quick Review of Concepts</a></li>
        <li><a href="#defining-the-semantics-of-the-addition-expression">Defining the Semantics of the Addition Expression</a></li>
        <li><a href="#defining-the-semantics-of-the-if-then-else-expression">Defining the Semantics of the If/Then/Else Expression</a></li>
      </ul>
    </li>
  </ul>
</nav>
</div>

		
	
			
		
	    	
	  	
	<div class="Actions">
	<nav>
		<ul>
				
		    
		    
			
		    

    	</ul>
	</nav>
    
</div>

      </section>
      
    </article>
    
    
    <footer>
      

		
	
			
		
	    	Create a content/_layout/footer/_index.md file to customize the footer content !
	  	
	
    </footer>
    



  </body>
</html>
