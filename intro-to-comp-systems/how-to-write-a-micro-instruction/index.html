

<!DOCTYPE html>
<html>
  <head>
    <title>
	How to write a micro-instruction :: David&#39;s Guide to CS
</title>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="revised" content="2021-08-20T16:54:56 UTC">
<meta name="description" content="">



<title>How to write a micro-instruction :: David&#39;s Guide to CS</title>

<link rel="shortcut icon" href='https://illustratedman-code.github.io/GuideToCS/images/favicon.png' type="image/x-icon" />

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.css">

<script src='https://code.jquery.com/jquery-3.5.1.min.js'></script>

<link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel="stylesheet">



<link rel="stylesheet" type="text/css" href='https://illustratedman-code.github.io/GuideToCS/sass/layout.css'>
<link rel="stylesheet" type="text/css" href='https://illustratedman-code.github.io/GuideToCS/css/style.main.css'>
<link rel="stylesheet" type="text/css" href='https://illustratedman-code.github.io/GuideToCS/css/style.menu.css'>
<link rel="stylesheet" type="text/css" href='https://illustratedman-code.github.io/GuideToCS/sass/shortcodes/notice.css'>
<link rel="stylesheet" type="text/css" href='https://illustratedman-code.github.io/GuideToCS/sass/shortcodes/tabs.css'>
<link rel="stylesheet" type="text/css" href='https://illustratedman-code.github.io/GuideToCS/sass/shortcodes/panel.css'>
<link rel="stylesheet" type="text/css" href='https://illustratedman-code.github.io/GuideToCS/sass/shortcodes/columns.css'>
<link rel="stylesheet" type="text/css" href='https://illustratedman-code.github.io/GuideToCS/sass/shortcodes/children.css'>
<link rel="stylesheet" type="text/css" href='https://illustratedman-code.github.io/GuideToCS/sass/shortcodes/attachments.css'>
<link rel="stylesheet" type="text/css" href='https://illustratedman-code.github.io/GuideToCS/sass/shortcodes/alert.css'>
<link rel="stylesheet" type="text/css" href='https://illustratedman-code.github.io/GuideToCS/css/docport.css'>

<script src='https://illustratedman-code.github.io/GuideToCS/js/docport.js'></script>
<script type="text/javascript">
      var baseurl = "https:\/\/illustratedman-code.github.io\/GuideToCS";
</script>


<script src="https://illustratedman-code.github.io/GuideToCS/js/mathjax-config.js"></script>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>



    
  </head>

  <body data-url="https://illustratedman-code.github.io/GuideToCS/intro-to-comp-systems/how-to-write-a-micro-instruction/"

  class="">

<style type="text/css">
  #debug{
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    line-height: 3.5rem;
    margin-bottom: .35rem;
    padding: 0 2rem;
    position: fixed;
    left: 0;      right: 0;     top: 0;
   
    top:0px;
    
    min-height: 150px;

    background-color: white;
    border: 3px solid red;
    z-index: 10000 ;
    word-wrap: all;
    overflow: auto;
  }
</style>
 


    
    
    <header style="">
        <div>
    
    <div class="burger ">
        <a href="javascript:void(0);" style="font-size:15px;" onclick="$('article > aside').toggleClass('responsive')">&#9776;</a>
    </div>
    

    <div>

		
	
			
		
	    	<a class='baselink' href='https://illustratedman-code.github.io/GuideToCS'>David's Guide to CS</a>
	  	
	</div>
    <nav class="shortcuts">
            <li class="" role="">
                <a href="https://github.com/IllustratedMan-code"  rel="noopener">
                  Github
                </a>
            </li>
    </nav>

</div>
    </header>
    

    <article>
      
      <aside class="">
        
<div class="search">
	<div class="searchbox">
	  <input data-search-input id="search-by" type="text" placeholder="Type to search...">
	</div>
	<script type="text/javascript" src="https://illustratedman-code.github.io/GuideToCS/vendor/lunr/lunr.min.js"></script>
	<script type="text/javascript" src="https://illustratedman-code.github.io/GuideToCS/vendor/auto-complete/auto-complete.js"></script>
	<link href="https://illustratedman-code.github.io/GuideToCS/vendor/auto-complete/auto-complete.css" rel="stylesheet">
	<script type="text/javascript">
	  
	      var baseurl = "https:\/\/illustratedman-code.github.io\/GuideToCS";
	  
	</script>
	<script type="text/javascript" src="https://illustratedman-code.github.io/GuideToCS/js/search.js"></script>
</div>

		
	
			
		
	    	
	  	
	<div id="close_menu">
  <a href="javascript:void(0);" style="font-size:15px;" onclick="$('article > aside').toggleClass('responsive')">
      <i class="fa fa-lg fa-times"></i>
  </a>
</div>

<ul class="menu">

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/intro-to-comp-systems/" class="dd-item parent haschildren
        item_level_$level
        ">

      
      
      
      
          <i class="fas fa-chevron-down ddexp"></i>
        
      
          <a href="https://illustratedman-code.github.io/GuideToCS/intro-to-comp-systems/">Intro To Comp Systems</a>
      
        <ul>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/intro-to-comp-systems/hard-vs-micro/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/intro-to-comp-systems/hard-vs-micro/">HardWiredVsMicroProgrammed;</a>
      
        
      
    </li>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/intro-to-comp-systems/how-to-write-a-micro-instruction/" class="dd-item parent active
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/intro-to-comp-systems/how-to-write-a-micro-instruction/">How to write a micro-instruction</a>
      
        
      
    </li>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/intro-to-comp-systems/mock-exam-questions/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/intro-to-comp-systems/mock-exam-questions/">Mock Exam Questions</a>
      
        
      
    </li>
              

    <li data-nav-id="https://illustratedman-code.github.io/GuideToCS/intro-to-comp-systems/formulas-and-references/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="https://illustratedman-code.github.io/GuideToCS/intro-to-comp-systems/formulas-and-references/">Useful formulas and references</a>
      
        
      
    </li>
        </ul>
    </li>
    



</ul>

		
	
			
		
	    	
	  	
	
      </aside>
      

      <section class="page ">
      
	
		
    
    
    <nav id="ariane" aria-label="breadcrumb">
      <ol class="ariane">
        
  
  	
		
  
  	
	<li >
      <a class="text-link" href="https://illustratedman-code.github.io/GuideToCS">
        Home
      </a>
    </li>
	
  
    <li class="">
      <a class="text-link" href="https://illustratedman-code.github.io/GuideToCS/intro-to-comp-systems/">
        Intro To Comp Systems
      </a>
    </li>
	
  	
  
    <li class="active">
      
        How to write a micro-instruction
      
    </li>

      </ol>
    </nav>
    
    

    
		
        
		
		
		
		
		
		
		

		
			<h1>How to write a micro-instruction</h1>
        

		
										
		

		
	

	
	
	<div class="jump-to-section">
		<span onclick="$h = $(this);$h.next('nav').slideToggle(100,function () {$h.children('i').attr('class',function () {return $h.next('nav').is(':visible') ? 'fas fa-chevron-down' : 'fas fa-chevron-right';});});">
  			<span class="fas fa-align-right"></span>
  			Jump to Section
  			<i style=";" class="fas fa-chevron-right"></i>
		</span>
		<nav id="TableOfContents">
  <ul>
    <li><a href="#control-signals">Control signals</a>
      <ul>
        <li><a href="#load--l">Load (L)</a></li>
        <li><a href="#enable--e">Enable (E)</a></li>
      </ul>
    </li>
    <li><a href="#micro-instructions">Micro-instructions</a>
      <ul>
        <li><a href="#control-field">Control field</a></li>
        <li><a href="#next-address-field">Next Address field</a></li>
      </ul>
    </li>
    <li><a href="#lda-micro-routine">LDA micro-routine</a></li>
  </ul>
</nav>
	</div>
	
	






	<div class="content">
	    <p>A micro-instruction is just a binary (often converted to hex) number that represents a list of control signals, and points to the next micro-instruction.  Micro-instructions can be changed by changing the  A set of micro-instructions forms a micro-routine (otherwise known as an instruction).</p>
<h2 ref="control-signals" >Control signals</h2><a class="anchor" id="control-signals"></a>
<p>To understand the micro-instruction, you must understand what the control signals do. I will be referencing the Hard vs Micro paper. It has LA (load accumulator), and EA (enable accumulator) signals. They are essentially just wires connected to the control unit (referenced by the 16 coming out of CONTROL) Each register also generally has a clock signal (CLK), but that is connected directly to the clock circuit and is not required for the micro-instructions. The naming system for the signals is somewhat arbitrary but usually follows the pattern (L, E) (register). This is subverted somewhat by the ALU, but that will most likely be directly defined. The other main difference is the inclusion of I, which just means increment.</p>
<h3 ref="load--l" >Load (L)</h3><a class="anchor" id="load--l"></a>
<p>A load signal allows the contents of a register to be changed by the state of the bus (a collection of wires). This signal must be paired with an E signal to do anything.</p>
<h3 ref="enable--e" >Enable (E)</h3><a class="anchor" id="enable--e"></a>
<p>An enable signal changes the state of the bus to match the contents of the register. Say a register contains the value 1111, when the enable signal is used for that register, the contents of the bus will now be 1111. This signal must be paired with a L signal to do anything.</p>
<h2 ref="micro-instructions" >Micro-instructions</h2><a class="anchor" id="micro-instructions"></a>
<p>A micro-instruction is a binary number composed of several <code>fields</code> stored at a specific address in the ROM (read only memory) of the control unit.</p>
<h3 ref="control-field" >Control field</h3><a class="anchor" id="control-field"></a>
<p>This is just a binary representation of the signals. In the hard vs micro document, the letters are signals are abbreviated into the following order:</p>
<ul>
<li>ILELAWLELELEASEL
Expanded: IP LP EP LM R W LD ED LI EI LA EA A S E</li>
</ul>
<p>A micro instruction will generally contain a pair of signals (L E) that transfers the contents of one register into another. The contents of the enabled register moves into the loaded register through the bus. A 1 means that the signal is on while a 0 means the signal is off.</p>
<h3 ref="next-address-field" >Next Address field</h3><a class="anchor" id="next-address-field"></a>
<p>This field has 4 different sub fields. it is used to determine the next micro instruction.</p>
<h4 ref="cd" >CD</h4><a class="anchor" id="cd"></a>
<p>CD (short for condition) is used for conditional logic. This bit makes the next micro-instruction depend on the value of the negative flag. This is generally off, unless you want conditional logic, see JN micro-routine</p>
<h4 ref="map" >MAP</h4><a class="anchor" id="map"></a>
<p>the map bit uses the next micro-instruction in the control ROM, see Fetch-routine . This is generally off.</p>
<h4 ref="crja-field" >CRJA field</h4><a class="anchor" id="crja-field"></a>
<p>This field consists of an address in the control ROM</p>
<h2 ref="lda-micro-routine" >LDA micro-routine</h2><a class="anchor" id="lda-micro-routine"></a>
<p>here is a step by step on how to write this instruction with micro-instructions.</p>
<ol>
<li>Find out where the data is coming from.</li>
<li>Map out the sub-steps:
<ol>
<li>IR -&gt; MAR</li>
<li>RAM -&gt; MDR</li>
<li>MDR -&gt; ACC</li>
</ol>
</li>
<li>determine the signals for each substep:
<ol>
<li>EI, LM</li>
<li>R</li>
<li>ED, LA</li>
</ol>
</li>
<li>Link the micro-instructions with the next address field.
<ol>
<li>address of next micro-instruction (04) in this case</li>
<li>address of next micro-instruction (05) in this case</li>
<li>link back to fetch (00) in this case</li>
</ol>
</li>
<li>Write the codes!
<ol>
<li>(0001000001000000)(0)(0)(0)(0100)</li>
<li>(0000010000000000)(0)(0)(0)(0101)</li>
<li>(0000000010010000)(0)(0)(0)(0000)</li>
</ol>
</li>
<li>Optional convert to hex
<ol>
<li>82004</li>
<li>20005</li>
<li>4800</li>
</ol>
</li>
</ol>

		</div>






	 
	<div class="chevrons">
		<a class="next" href="https://illustratedman-code.github.io/GuideToCS/intro-to-comp-systems/mock-exam-questions/" title="Mock Exam Questions" style="margin-right: 0px;">
            <div>
                <p>Next page</p>
                <label>Mock Exam Questions</label>
            </div>
            <i class="fas fa-arrow-right" style="font-size: 1.7em"></i></a>
	</div>
	
	

      </section>

      
      
      <section class="right-menu ">
      
	

		
	
			
		
	    	
	  	
	<div class="TableOfContents">
    <label><i class="fas fa-align-right"></i>&nbsp;&nbsp;What&#39;s on this page</label>
    <nav>
        <ul >
            <li><a href="https://illustratedman-code.github.io/GuideToCS/intro-to-comp-systems/how-to-write-a-micro-instruction/">How to write a micro-instruction</a></li>
        </ul>
    </nav>
    <nav id="TableOfContents">
  <ul>
    <li><a href="#control-signals">Control signals</a>
      <ul>
        <li><a href="#load--l">Load (L)</a></li>
        <li><a href="#enable--e">Enable (E)</a></li>
      </ul>
    </li>
    <li><a href="#micro-instructions">Micro-instructions</a>
      <ul>
        <li><a href="#control-field">Control field</a></li>
        <li><a href="#next-address-field">Next Address field</a></li>
      </ul>
    </li>
    <li><a href="#lda-micro-routine">LDA micro-routine</a></li>
  </ul>
</nav>
</div>

		
	
			
		
	    	
	  	
	<div class="Actions">
	<nav>
		<ul>
				
		    
		    
			
		    

    	</ul>
	</nav>
    
</div>

      </section>
      
    </article>
    
    
    <footer>
      

		
	
			
		
	    	Create a content/_layout/footer/_index.md file to customize the footer content !
	  	
	
    </footer>
    



  </body>
</html>
